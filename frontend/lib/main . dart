import 'package:flutter/material.dart';
import 'package:provider/provider.dart';

import 'core/app_config.dart';
import 'screens/add_real_estate_screen.dart';

void main() {
  runApp(
    ChangeNotifierProvider(
      create: (context) => AppState(),
      child: HoosBazaarApp(),
    ),
  );
}

class HoosBazaarApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      title: AppConfig.appName,
      debugShowCheckedModeBanner: false,
      theme: ThemeData(
        primarySwatch: Colors.blue,
        fontFamily: 'Vazir',
      ),
      home: HomeScreen(),
    );
  }
}

class AppState extends ChangeNotifier {
  bool isAIPricingEnabled = true;
  
  void toggleAIPricing(bool value) {
    isAIPricingEnabled = value;
    notifyListeners();
  }
}

class HomeScreen extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text('ğŸª Ù‡ÙˆØ´ Ø¨Ø§Ø²Ø§Ø±'),
        centerTitle: true,
        backgroundColor: Colors.blue[800],
        elevation: 10,
      ),
      body: Container(
        decoration: BoxDecoration(
          gradient: LinearGradient(
            begin: Alignment.topCenter,
            end: Alignment.bottomCenter,
            colors: [
              Colors.blue[50]!,
              Colors.white,
            ],
          ),
        ),
        child: Center(
          child: SingleChildScrollView(
            padding: EdgeInsets.all(20),
            child: Column(
              mainAxisAlignment: MainAxisAlignment.center,
              children: [
                // Ù„ÙˆÚ¯Ùˆ
                Container(
                  width: 120,
                  height: 120,
                  decoration: BoxDecoration(
                    color: Colors.blue[100],
                    shape: BoxShape.circle,
                  ),
                  child: Icon(
                    Icons.smart_toy,
                    size: 60,
                    color: Colors.blue[800],
                  ),
                ),
                
                SizedBox(height: 30),
                
                // Ø¹Ù†ÙˆØ§Ù†
                Text(
                  'Ù‡ÙˆØ´ Ø¨Ø§Ø²Ø§Ø±',
                  style: TextStyle(
                    fontSize: 36,
                    fontWeight: FontWeight.bold,
                    color: Colors.blue[800],
                  ),
                ),
                
                SizedBox(height: 10),
                
                // Ø²ÛŒØ±Ø¹Ù†ÙˆØ§Ù†
                Text(
                  'Ù¾Ù„ØªÙØ±Ù… Ù‡ÙˆØ´Ù…Ù†Ø¯ Ø®Ø±ÛŒØ¯ Ùˆ ÙØ±ÙˆØ´',
                  style: TextStyle(
                    fontSize: 18,
                    color: Colors.grey[600],
                  ),
                ),
                
                SizedBox(height: 40),
                
                // Ú©Ø§Ø±Øª ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§
                Card(
                  elevation: 6,
                  shape: RoundedRectangleBorder(
                    borderRadius: BorderRadius.circular(15),
                  ),
                  child: Padding(
                    padding: const EdgeInsets.all(20.0),
                    child: Column(
                      children: [
                        ListTile(
                          leading: Icon(Icons.psychology, color: Colors.green),
                          title: Text('Ù‚ÛŒÙ…Øªâ€ŒÚ¯Ø°Ø§Ø±ÛŒ Ù‡ÙˆØ´Ù…Ù†Ø¯'),
                          subtitle: Text('AI Ù‚ÛŒÙ…Øª Ù…Ù†ØµÙØ§Ù†Ù‡ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯'),
                        ),
                        ListTile(
                          leading: Icon(Icons.analytics, color: Colors.blue),
                          title: Text('ØªØ­Ù„ÛŒÙ„ Ø¨Ø§Ø²Ø§Ø±'),
                          subtitle: Text('Ø¨Ø±Ø±Ø³ÛŒ Ù‡Ø²Ø§Ø±Ø§Ù† Ø¢Ú¯Ù‡ÛŒ Ù…Ø´Ø§Ø¨Ù‡'),
                        ),
                        ListTile(
                          leading: Icon(Icons.security, color: Colors.orange),
                          title: Text('Ø§Ù…Ù†ÛŒØª Ø¨Ø§Ù„Ø§'),
                          subtitle: Text('Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø´Ù…Ø§ Ù…Ø­Ø§ÙØ¸Øª Ù…ÛŒâ€ŒØ´ÙˆØ¯'),
                        ),
                      ],
                    ),
                  ),
                ),
                
                SizedBox(height: 40),
                
                // Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø§ØµÙ„ÛŒ
                Column(
                  children: [
                    ElevatedButton.icon(
                      onPressed: () {
                        Navigator.push(
                          context,
                          MaterialPageRoute(
                            builder: (context) => AddRealEstateScreen(),
                          ),
                        );
                      },
                      icon: Icon(Icons.add_home),
                      label: Text('Ø«Ø¨Øª Ø¢Ú¯Ù‡ÛŒ Ù…Ù„Ú©'),
                      style: ElevatedButton.styleFrom(
                        minimumSize: Size(double.infinity, 55),
                        backgroundColor: Colors.green,
                      ),
                    ),
                    
                    SizedBox(height: 15),
                    
                    OutlinedButton.icon(
                      onPressed: () {
                        // Ø¨Ø¹Ø¯Ø§Ù‹ Ø§Ø¶Ø§ÙÙ‡ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ…
                      },
                      icon: Icon(Icons.search),
                      label: Text('Ø¬Ø³ØªØ¬ÙˆÛŒ Ø¢Ú¯Ù‡ÛŒâ€ŒÙ‡Ø§'),
                      style: OutlinedButton.styleFrom(
                        minimumSize: Size(double.infinity, 55),
                        side: BorderSide(color: Colors.blue),
                      ),
                    ),
                  ],
                ),
                
                SizedBox(height: 30),
                
                // Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù†Ø³Ø®Ù‡
                Text(
                  'Ù†Ø³Ø®Ù‡ ${AppConfig.version}',
                  style: TextStyle(
                    fontSize: 12,
                    color: Colors.grey[500],
                  ),
                ),
              ],
            ),
          ),
        ),
      ),
    );
  }
}
